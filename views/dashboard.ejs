<%- include('partials/head', {title: 'Dashboard'}) %>

<body>
  <%- include('partials/navbar') %>


  <section class="bg-white text-gray-900">
    <div class="mx-auto max-w-screen-xl px-4 py-8 sm:px-6 sm:py-12 lg:px-8 lg:py-16">
      <div class="mx-auto max-w-lg text-center">
        <h2 class="text-3xl font-bold sm:text-4xl">Begin Relaxing!</h2>
      </div>

      <div class="mt-8 grid grid-cols-1 gap-8 md:grid-cols-4 lg:grid-cols-4">
        <a class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-teal-500/10 hover:shadow-teal-500/10" href="/entries/new">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-10 w-10 text-teal-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42" />
          </svg>


          <h2 class="mt-4 text-xl font-bold text-black">Doodle and Journal</h2>

          <p class="mt-1 text-sm text-dark-gray-300">
            Draw, write about your thoughts, make a to-do list, and chill.
          </p>
        </a>
        <a class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-blue-500/10 hover:shadow-blue-500/10" href="/chat">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-blue-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155" />
          </svg>


          <h2 class="mt-4 text-xl font-bold text-black">Talk to Someone</h2>

          <p class="mt-1 text-sm text-dark-gray-300">
            Talk to our AI chatbots for therapy.
          </p>
        </a>
        <a class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-red-500/10 hover:shadow-red-500/10" href="/services/digital-campaigns">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-red-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z" />
          </svg>


          <h2 class="mt-4 text-xl font-bold text-black">Measure your Stress</h2>

          <p class="mt-1 text-sm text-dark-gray-300">
            Understand how much stress you're experiencing with our AI tools.
          </p>
        </a>
        <a class="block rounded-xl border border-gray-200 p-8 shadow-xl transition hover:border-pink-500/10 hover:shadow-pink-500/10" href="/services/digital-campaigns">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 h-10 text-pink-600">
            <path stroke-linecap="round" stroke-linejoin="round" d="m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z" />
          </svg>


          <h2 class="mt-4 text-xl font-bold text-black">Vibe With Music</h2>

          <p class="mt-1 text-sm text-dark-gray-300">
            Chill by listening to hand-picked music by our state-certified pianist.
          </p>
        </a>

  </section>

  <!-- New section with title and search bar -->
  <section class="mt-8 flex items-center justify-between px-16 py-8" style="width: 90%; margin-left: auto; margin-right: auto">
    <div class="text-left">
      <h2 class="text-3xl font-bold mb-4">My Boards</h2>
    </div>
    <div class="flex items-center">
      <input type="text" class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring focus:border-teal-600" style="border-top-right-radius: 0; border-bottom-right-radius: 0;" placeholder="Search boards..." />
      <button class="bg-teal-600 text-white px-6 py-2 rounded-md transition hover:bg-teal-700 focus:outline-none focus:ring focus:border-teal-700" style="border-top-left-radius: 0; border-bottom-left-radius: 0; border: 1px solid #0d9488">
        Search
      </button>
    </div>
  </section>


  <section class="mx-auto max-w-screen-xl px-4 py-0 sm:px-6 sm:py-0 lg:px-8 lg:py-0 mb-8">

    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-8">
      <% entries.forEach(entry => { %>
      <div class="bg-white rounded-lg overflow-hidden shadow-md">
        <a href="/entries/<%= entry._id %>">
          <div class="p-6">
            <h3 class="text-xl font-bold mb-2"><%= entry.title %></h3>
            <p class="text-gray-700"><%= entry.journal %></p>
            <h6 class="text-red-700 mt-2 hr4" data-id="<%= entry._id %>">
              <span class="sw text-gray-500 font-light">Updated at <%= entry.updatedAt.toDateString() %></span>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-4 h-4">
                <path fill-rule="evenodd" d="M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z" clip-rule="evenodd" />
              </svg>
              </h2>
          </div>
        </a>
      </div>
      <% }) %>
    </div>

  </section>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

  <script>
    document.querySelectorAll('.hr4').forEach((el) => {
      el.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        deleteEntry(el.getAttribute('data-id'));
      })
    })
    async function deleteEntry(id) {
      if (confirm('Are you sure you want to delete this entry?')) {
        await axios.post(`/entries/${id}`, {}, {
          params: {
            method: 'delete'
          }
        }).then(res => {
          console.log(res.data);
        })
      }
    }
  </script>

</body>

</html>